<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" /><link rel="canonical" href="https://t03i.github.io/FlatProt/" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>FlatProt</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = "/FlatProt/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/toml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/numpy.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> FlatProt
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#standard-workflow-on-the-command-line">Standard Workflow on the command line</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#single-structure-projection">Single Structure Projection</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multi-structure-comparison">Multi-Structure Comparison</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#structure-alignment">Structure Alignment</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#region-based-analysis">Region-Based Analysis</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-command-chaining-workflows">Common Command Chaining Workflows</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#family-comparison-with-optimal-conservation">Family Comparison with Optimal Conservation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#aligned-structure-visualization">Aligned Structure Visualization</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#comprehensive-domain-analysis">Comprehensive Domain Analysis</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#key-features">Key Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#visualization-options">Visualization Options</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#secondary-structure-representation">Secondary Structure Representation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#advanced-features">Advanced Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#citation">Citation</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="examples/">Examples</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Commands</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="commands/project/">Project</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="commands/align/">Align</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="commands/overlay/">Overlay</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="commands/split/">Split</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">File Formats</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="file_formats/matrix/">Matrix Files</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="file_formats/style/">Style Files</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="file_formats/annotations/">Annotation Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="tools/custom_database/">Custom Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="tools/database_builder/">Rebuild Default Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="tools/matrix_extraction/">PyMOL Matrix Extraction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="api/io/">IO</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="api/core/">Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="api/transformation/">Transformation & Projection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="api/scene/">Scene</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="api/rendering/">Rendering</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="api/alignment/">DatabaseAlignment</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">FlatProt</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/t03i/FlatProt/edit/master/docs/index.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <!--
 Copyright 2024 Rostlab.
 SPDX-License-Identifier: Apache-2.0
-->

<h1 id="about">About</h1>
<p>FlatProt is a Python package for protein structure and sequence analysis. It provides standardized 2D visualizations for enhanced protein comparability, combining efficient processing of proteins with user-friendly visualizations.</p>
<h2 id="standard-workflow-on-the-command-line">Standard Workflow on the command line</h2>
<p>FlatProt provides four main commands for protein structure analysis.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>The following examples assume you've installed FlatProt with <code>uv tool add FlatProt</code>. If you're using the no-install option, replace <code>flatprot</code> with <code>uvx flatprot</code> in all commands.</p>
<h3 id="single-structure-projection">Single Structure Projection</h3>
<p>Generate 2D projections of individual protein structures in three simple steps:</p>
<ol>
<li>Obtain the protein structure file (CIF or PDB format)<ul>
<li>From databases like PDB, AlphaFold, or your own modeling tools</li>
<li>CIF format is recommended for better handling of complex structures</li>
</ul>
</li>
<li>Calculate secondary structure using DSSP<ul>
<li>Run: <code>mkdssp -i structure.cif -o structure.cif</code></li>
<li>This identifies α-helices, β-sheets, and other structural elements</li>
</ul>
</li>
<li>Generate the 2D projection with FlatProt<ul>
<li>Basic usage: <code>flatprot project structure.cif -o projection.svg</code></li>
<li>With pdb file: <code>flatprot project structure.pdb --dssp structure.dssp -o projection.svg</code></li>
<li>Customize with options like <code>--canvas-width 500 --canvas-height 400</code> for sizing</li>
</ul>
</li>
</ol>
<h3 id="multi-structure-comparison">Multi-Structure Comparison</h3>
<p>Create overlay visualizations to compare multiple related structures:</p>
<ol>
<li>Collect related structure files (same family or similar proteins)</li>
<li>Generate family-aligned overlay: <code>flatprot overlay "structures/*.cif" -o comparison.png</code></li>
<li>For consistent size comparison: <code>flatprot overlay "structures/*.cif" --disable-scaling -o overlay.png</code></li>
</ol>
<h3 id="structure-alignment">Structure Alignment</h3>
<p>Align structures to known protein families:</p>
<ol>
<li>Find best matching family: <code>flatprot align structure.cif -i alignment_info.json</code></li>
<li>Use alignment in projections: <code>flatprot project structure.cif --matrix alignment_matrix.npy -o aligned.svg</code></li>
</ol>
<h3 id="region-based-analysis">Region-Based Analysis</h3>
<p>Extract and visualize specific structural regions with comparative alignment:</p>
<ol>
<li>Define regions of interest: <code>flatprot split protein.cif --regions "A:1-100,A:150-250" -o regions.svg</code></li>
<li>With database alignment: <code>flatprot split protein.cif --regions "A:1-100,A:150-250" --show-database-alignment -o aligned_regions.svg</code></li>
<li>Progressive gap positioning: <code>flatprot split protein.cif --regions "A:1-100,A:150-250" --gap-x 150 --gap-y 100 -o positioned.svg</code></li>
</ol>
<h2 id="common-command-chaining-workflows">Common Command Chaining Workflows</h2>
<h3 id="family-comparison-with-optimal-conservation">Family Comparison with Optimal Conservation</h3>
<p>For optimal conservation across multiple structures, align all to the same family reference:</p>
<pre><code class="language-bash"># 1. Find optimal alignment for family
flatprot align reference_protein.cif -i family_info.json

# 2. Extract family ID from results
family_id=$(jq -r '.best_hit.target_id' family_info.json)

# 3. Create conserved overlay using fixed family ID
flatprot overlay &quot;family_proteins/*.cif&quot; --family &quot;$family_id&quot; -o family_overlay.png
</code></pre>
<h3 id="aligned-structure-visualization">Aligned Structure Visualization</h3>
<p>Create family-aligned 2D projections of individual structures:</p>
<pre><code class="language-bash"># 1. Find optimal family alignment
flatprot align protein.cif -m alignment_matrix.npy

# 2. Create aligned 2D projection
flatprot project protein.cif --matrix alignment_matrix.npy -o aligned_protein.svg
</code></pre>
<h3 id="comprehensive-domain-analysis">Comprehensive Domain Analysis</h3>
<p>Combine full structure and domain-specific views:</p>
<pre><code class="language-bash"># 1. Create full structure view
flatprot project protein.cif -o full_structure.svg

# 2. Extract and align specific domains
flatprot split protein.cif --regions &quot;A:1-100,A:150-250&quot; --show-database-alignment -o domains.svg

</code></pre>
<p>The resulting files contain clean, publication-ready 2D representations that can be viewed in any web browser or vector graphics editor.</p>
<h2 id="key-features">Key Features</h2>
<ul>
<li><strong>Single Structure Visualization</strong>: Standardized 2D projections of individual protein structures</li>
<li><strong>Multi-Structure Overlays</strong>: Compare multiple structures with automatic clustering and alignment</li>
<li><strong>Region-Based Analysis</strong>: Extract and visualize specific domains, motifs, or binding sites with comparative alignment</li>
<li><strong>Family-Based Alignment</strong>: Integration with Foldseek alignments for protein family mapping with rotation-only transformations</li>
<li><strong>Database Annotations</strong>: Automatic SCOP family identification and alignment probability display</li>
<li><strong>Batch Processing</strong>: Efficient processing of proteins across varying sizes</li>
<li><strong>High Performance</strong>: Fast response times even for large, complex structures</li>
<li><strong>Scalable</strong>: Support for proteins up to 3,000 residues and datasets with 50+ structures</li>
<li><strong>Publication Ready</strong>: Clear and consistent visualizations for structure analysis</li>
</ul>
<h2 id="visualization-options">Visualization Options</h2>
<p>FlatProt offers multiple visualization types to suit different analysis needs:</p>
<ul>
<li><strong>Normal</strong>: Standard visualization with detailed secondary structure representation</li>
<li><strong>Simple-coil</strong>: Simplified coil representation while maintaining detailed secondary structure elements</li>
<li><strong>Only-path</strong>: Minimalist path representation of the protein structure</li>
<li><strong>Special</strong>: Enhanced visualization with customizable features for specific analysis needs</li>
</ul>
<h3 id="secondary-structure-representation">Secondary Structure Representation</h3>
<ul>
<li><strong>Helices</strong>: Visualized in red (#F05039), with options for simple or detailed representation</li>
<li><strong>Sheets</strong>: Shown in blue (#1F449C) with arrow representations</li>
<li><strong>Coils</strong>: Displayed in black with adjustable simplification levels</li>
</ul>
<h2 id="advanced-features">Advanced Features</h2>
<ul>
<li><strong>Multi-chain Support</strong>: Automatic handling and visualization of multiple protein chains</li>
<li><strong>Region-Specific Extraction</strong>: Precise extraction of structural domains, motifs, and binding sites</li>
<li><strong>Database-Driven Alignment</strong>: Integration with FoldSeek for family-specific structural alignment</li>
<li><strong>Rotation-Only Transformations</strong>: Align region orientations while preserving spatial relationships</li>
<li><strong>SCOP Family Annotations</strong>: Automatic identification and display of structural classification annotations</li>
<li><strong>Alignment Quality Metrics</strong>: Display of alignment probabilities and confidence scores</li>
<li><strong>Progressive Gap Positioning</strong>: Flexible domain spacing with configurable horizontal and vertical gaps for comparative visualization</li>
<li><strong>LDDT Score Visualization</strong>: Color-coded representation of local distance difference test scores</li>
<li><strong>Residue Annotations</strong>: Optional display of amino acid annotations and chain positions</li>
<li><strong>Custom Highlighting</strong>: Support for manual residue and bond highlighting through JSON configuration</li>
</ul>
<h2 id="citation">Citation</h2>
<blockquote>
<p>FlatProt: 2D visualization eases protein structure comparison
Tobias Olenyi, Constantin Carl, Tobias Senoner, Ivan Koludarov, Burkhard Rost
bioRxiv 2025.04.22.650077; doi: <a href="https://doi.org/10.1101/2025.04.22.650077">https://doi.org/10.1101/2025.04.22.650077</a></p>
</blockquote>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="installation/" class="btn btn-neutral float-right" title="Installation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/t03i/FlatProt" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="installation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!--
MkDocs version : 1.6.1
Build Date UTC : 2025-06-18 14:48:12.847741+00:00
-->
